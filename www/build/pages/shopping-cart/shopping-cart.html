<!--
  Generated template for the ShoppingCartPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-toolbar>
    <ion-title>Shopping Cart</ion-title>
    <ion-buttons start>
      <button (click)="dismiss()">
        <span primary showWhen="ios">Close</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
  

</ion-header>


<ion-content>
  <ion-list>
    <ion-list-header>
      Items
    </ion-list-header>
    <ion-item-sliding *ngFor="let item of order; let i = index">
      <ion-item>
        <ion-avatar item-left>
          <img src="https://jpweb-unimodern.c9users.io/attachments/file/download?id={{item.product.thumbs[0].id}}">
        </ion-avatar>
        <h2>{{item.product.name}}</h2>
        <h3>{{item.product.quantity}}</h3>
        <p *ngFor="let option of item.product.option">
          <b>{{option.title}}</b> 
          <span *ngFor="let option_item of option.items">
            <span *ngIf="option.type=='and' && option_item.value">{{option_item.title}}, </span>
          </span>
          <span *ngIf="option.value && option.type=='or'">{{option.value}}, </span>        
        </p>
        <ion-note item-right>{{item.quantity}}</ion-note>
      </ion-item>
      <ion-item-options>
        <button light (click)="changeOrder(i, -1)">
          <ion-icon name="remove"></ion-icon>
        </button>
        <button primary (click)="changeOrder(i, 1)">
          <ion-icon name="add"></ion-icon>
        </button>
        <button danger (click)="changeOrder(i, 0)">
          <ion-icon name="trash"></ion-icon>
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

</ion-content>
